Технічне завдання для сайту масштабування
Цей документ визначає повну логіку роботи сайту, включаючи структуру інтерфейсу, поведінку користувача, взаємодію елементів, очікувані результати та відповідність між візуальними компонентами і даними. Документ структуровано по логічних блоках.

Сайт складається з двох основних візуальних частин (фреймів) і блоку інформації:

Лівий фрейм.
Бокова панель (sidebar)
Фіксована ширина: 300px.
Розташований зліва.
Містить кнопки вибору блоків: Всесвіт, Географія, Час, Гроші, Довільно, Мова, FAQ.
 
Правий фрейм.
Контентна зона з мапою
Займає весь простір, що залишився від sidebar 
Вміщує інтерактивну карту (Leaflet) 
На мапі присутній маркер, точка, центр усіх розрахунків (центр кіл). Користувач може переміщувати точку у будь яке інше місце на карті. 

Інформаційний блок (над правим фреймом)
Скритий. З’являється лише після натискання кнопки «Розрахувати»
Фіксована ширина: 250px.
Розташований справа. 50% прозорість від сірого.
Містить інформацію про об’єкти, кола яких намальовані на карті.

Основні терміни

Система - термін який означає загальну поведінку сайту яка виконує основну задачу сайту: приведення даних в одну міру, розрахунки, візуалізація (кола) порівняльних масштабів двох або більше об’єктів з накладанням візуалізації (кіл) на карту.

Блок – це частина розділів сайту яка відкривається кнопкою з початкової сторінки. Містить в собі кнопки, випадні списки чи поля для вибору або створення об’єктів для візуального порівняння різноманітних величин, таких як: діаметри, відстані і інше. Для кожного з блоків створенні унікальні бібліотеки об’єктів, які містять необхідну інформацію для структурування (категорії), назви об’єктів, їх величини чи відстані, які необхідні для розрахунків в обраному блоці. 

Сектор – це частина блоку яка містить в собі кнопки вибору режимів або випадні списки чи поля для вибору чи створення одного об’єкту або сектор з двох кнопок «Розрахувати» і «Скинути».
У блоці міститься декілька секторів залежно від специфіки розрахунків блоку. Кожен блок виконує лише одну функцію: вибір режиму, або вибір/створення одного об’єкту, або містить у собі дві керуючі розрахунками кнопки.

Режим розрахунків – кнопки переключення режимів розрахунків містяться у окремому блоці і виконують функцію вибору роботи системи з відповідними мірами (беруться з бібліотек) і логікою обчислень.

Коло - реально намальоване коло (контур кола) на карті, яке є кількісною візуалізацією об’єкта в масштабі. Задаючи діаметр першого (об’єкта 1) його коло, на карті, дорівнює заданому масштабі користувачем. Коло об’єкта 2 малюється діаметром який відповідає розрахункам системи а саме: система вираховує коефіцієнт (реальний розмір до заданого) масштабу об’єкта 1 і малює коло об’єкта 2 відповідно отриманому коефіцієнту.



Стартовий стан сайту

При завантаженні сторінки користувач бачить мапу з маркером у центрі Львова (пл. Ринок 1) та ліву бокову панель. 

Жодна з кнопок блоків на боковій панелі не є активною за замовчуванням а очікує натискання аби перейти у відповідний блок.

Усі кнопки на боковій, лівій панелі доступні 

Інформаційний блок прихований 

Маркер доступний для переміщення (клік на карту) 

Користувач не бачить жодних кіл або написів на мапі 

При натисканні на карту маркер переноситься в нову точку без перезавантаження 

Жоден розрахунок не відбувається автоматично, поки не відкрито блок і не натиснута кнопка "Розрахувати"

Поведінка точки на карті (маркера)

Маркер на карті є точкою розрахунків, одним центром усіх кіл які будуть малюватись після введення даних про об’єкт 1 і об’єкти 2.  

Точку можна змінювати у будь-який момент: до і після обчислень, незалежно від того, який блок відкрито.
 
Якщо користувач зробив розрахунки (натиснув кнопку «Розрахувати») і на карті з’явились кола — точка (центр кіл) не змінюється автоматично до точки (центру кіл) по замовчуванню (Площа Ринок 1, Львів: 49.8419, 24.0315) , вона лишається там, де її поставив користувач. 

Якщо після розрахунків (натиснув кнопку «Розрахувати»), користувач переміщує точку (через клік) на карті, усі наявні кола на мапі перемальовуються відповідно до нової позиції точки (центру кіл) на карті.
 
Кожен наступний розрахунок (користувач натиснув кнопку «Розрахувати»), коло нового об’єкту 2 також малюється з центром поточної позиції точки (центру кіл) на момент натискання кнопки "Розрахувати".
 
Після натискання кнопки «Скинути» точка на карті не скидається автоматично у точку по замовчуванню ((Площа Ринок 1, Львів: 49.8419, 24.0315), вона залишається там, де її востаннє поставив користувач.

Події після натискання кнопок вибору блоків на боковій панелі.

Після натискання кнопки відповідного блоку (Всесвіт, Географія, Час, Гроші, Довільно, Мова, Налаштування) відображається інтерфейс (наповнення) цього блоку, а кнопки інших блоків приховуються.

Повторне натискання цієї ж кнопки повертає інтерфейс до початкового стану/стартової сторінки: всі кнопки блоків знову стають видимими.

Кожна кнопка блоку містить стрілку-індикатор: стрілка вниз означає, що блок закритий; стрілка вгору — що блок відкритий. На стартовій сторінці стрілки направлені вниз, вказуючи, що при натисканні кнопка відкриває блок. 

Розділ описує наповнення блоків.
Примітка: усі категорії, об’єкти, назви, імена в випадних списках в усіх блоках, структуровані в алфавітному порядку(в випадних списках).

Блок Всесвіт містить:
Примітка: Категорії об’єктів – планети, зірки, галактики, чорні діри, квазари, потенційно небезпечні об’єкти, видимий всесвіт(категорія з одним об’єктом «видимий всесвіт»). Об’єкти – назви об’єктів відповідної категорії, видимий всесвіт(об’єкт категорії «видимий всесвіт»)

Сектор 1, вибору режиму розрахунків
Рядок 1. Напис по центру: Режим розрахунків.
Рядок 2. Кнопки вибору режиму розрахунків «Діаметр», «Маса», «Відстань», «Світність». На кнопках міститься назва режиму яка відповідає кнопці.
Примітка: після вибору режиму розрахунків, в випадних списках для вибору доступні лише такі об’єкти які в бібліотеці містять дані відповідного режиму. Наприклад: якщо користувач вибрав режим «Світність» то до вибору об’єктів 1 і 2 будуть доступні об’єкти які в бібліотеці містять дані про світність.

Сектор 2, вибору параметрів об’єкта 1
Рядок 1. Напис по центру: Вибір першого об’єкту масштабування.
Рядок 2. 
Випадний список 1, по замовчуванню містить напис «Виберіть категорію об’єкта». Додана можливість вибору усіх категорій об’єктів «Усі категорії».
Випадний список 2, по замовчуванню містить напис «Виберіть об’єкт». Список об’єктів для вибору відповідає категорії об’єктів, яку користувач вибрав у випадному списку 1. Якщо у випадному списку 1 вибрана категорія «Усі категорії», у списку об’єктів для вибору, активні усі об’єкти.
Рядок 3. Іконка “і”, tooltips, з текстом «min - 0,001, max - 40000000». Поле для введення значення діаметру об’єкта 1, від 40000000 до 0,001 метра. По замовчуванню містить напис «Введіть діаметр об’єкта в метрах» 
Рядок 4. Кнопка «Мій об’єкт». В режимі «Відстань» кнопка неактивна.
Примітка: кнопка «Мій об’єкт» розгортає додатковий сектор (3), для створення об’єкту користувачем. Робить сектор 2 неактивним. Повторне натискання на кнопку приховує сектор 3, а сектор 2 стає активним. Кнопка містить стрілку індикатор. Стрілка  вниз означає, що сектор 3 закритий/згорнутий, стрілка вгору — що сектор 3 відкритий/розгорнутий а сектор 2 неактивний (неможливість вибирати/вводити дані). В режимі «Відстань» кнопка неактивна.

Сектор 3, введення/створення параметрів «Мій об’єкт» (об’єкта 1)
Рядок 1. Напис по центру: Створення об’єкту.
Рядок 2. Поле 1 для ручного введення назви об’єкту ("name"). По замовчуванню містить «Введіть назву об’єкту»
Рядок 3. Поле 2 для ручного введення числового параметру ("value"). По замовчуванню містить «Введіть число», 
Випадний список з мірами ("unit") відповідного режиму. 
Примітка: в режимі «Діаметр» міри – кілометри, астрономічні одиниці, світлові роки, парсеки.
в режимі «Маса» міри – кілограми, сонячні маси, земні маси, юпітер маси.
в режимі «Світність» міри – вати, сонячне світіння.
Рядок 4. Іконка “і”, tooltips, з текстом «min - 0,001, max - 40000000». Поле для введення значення діаметру об’єкта 1, від 40000000 до 0,001 метра. По замовчуванню містить напис «Введіть діаметр об’єкта в метрах» 
Примітка: Введені параметри в секторі 3 блоку Всесвіт вважаються системою як дані про об’єкт 1 і береться до розрахунків, масштабуванню і малювання кіл на карті.

Сектор 4, вибору параметрів об’єкта 2
Рядок 1. Напис по центру: Вибір другого об’єкту масштабування.
Рядок 2. 
Випадний список 1, по замовчуванню містить напис «Виберіть категорію об’єкта». Додана можливість вибору усіх категорій об’єктів «Усі категорії».
Випадний список 2, по замовчуванню містить напис «Виберіть об’єкт». Список об’єктів для вибору відповідає категорії об’єктів, яку користувач вибрав у випадному списку 1. Якщо у випадному списку 1 вибрана категорія «Усі категорії», у списку об’єктів для вибору, активні усі об’єкти.
Рядок 3. Кнопка «Мій об’єкт».
Примітка: кнопка «Мій об’єкт» розгортає додатковий сектор (5), для створення об’єкту користувачем. Робить сектор 4 неактивним. Повторне натискання на кнопку приховує сектор 5, а сектор 4 стає активним. Кнопка містить стрілку індикатор. Стрілка  вниз означає, що сектор 5 закритий/згорнутий, стрілка вгору — що сектор 5 відкритий/розгорнутий а сектор 4 неактивний (неможливість вибирати/вводити дані).

Сектор 5, введення/створення параметрів «Мій об’єкт» (об’єкта 2)
Рядок 1. Напис по центру: Створення об’єкту.
Рядок 2. Поле 1 для ручного введення назви об’єкту ("name"). По замовчуванню містить «Введіть назву об’єкту»
Рядок 3. Поле 2 для ручного введення числового параметру ("value"). По замовчуванню містить «Введіть число», 
Випадний список з мірами ("unit") відповідного режиму: 
Примітка: в режимі «Діаметр» міри – кілометри, астрономічні одиниці, світлові роки, парсеки.
в режимі «Маса» міри – кілограми, сонячні маси, земні маси, юпітер маси.
в режимі «Світність» міри – вати, сонячне світіння.
В режимі «Відстань» міри – кілометри, мілі, астрономічні одиниці, світлові роки, парсеки
Примітка: Введені параметри в секторі 5 блоку Всесвіт вважаються системою як дані про об’єкт 2 і береться до розрахунків, масштабуванню і малювання кіл на карті.

Сектор 6
Рядок 1. Кнопка «Розрахувати»
Рядок 2. Кнопка «Скинути»

Сектор 7
Рядок 1: Напис по центру: Масштабування кіл.
Рядок 2: Кнопка «-». Кнопка «Заданий масштаб». Кнопка «+»

Блок Географія містить:
Примітка: Категорії об’єктів - країни, міста. Об’єкти – назви країн(містяться в категорії - країни), назви міст(містяться в категорії - міста).

Сектор 1, вибору режиму розрахунків
Рядок 1. Напис по центру: Режим розрахунків.
Рядок 2. Кнопки вибору режиму розрахунків «Площа», «Населення». На кнопках міститься назва режиму яка відповідає кнопці.

Сектор 2, вибору параметрів об’єкта 1
Рядок 1. Напис по центру: Вибір першого об’єкту масштабування.
Рядок 2. 
Випадний список 1, по замовчуванню містить напис «Виберіть категорію об’єкта». Додана можливість вибору усіх категорій об’єктів «Усі категорії».
Випадний список 2, по замовчуванню містить напис «Виберіть об’єкт», Список об’єктів для вибору відповідає категорії об’єктів, яку користувач вибрав у випадному списку 1. Якщо у випадному списку 1 вибрана категорія «Усі категорії», у списку об’єктів для вибору, активні усі об’єкти.
Випадний список 3, по замовчуванню містить напис «Виберіть рік». У випадному списку роки які присутні в бібліотеці про об’єкт 1, вибраний користувачем у Випадному списку 2
Рядок 3. Іконка “і”, tooltips, з текстом «min - 0,001, max - 40000000». Поле для введення значення діаметру об’єкта 1, від 40000000 до 0,001 метра. По замовчуванню містить напис «Введіть діаметр об’єкта в метрах»
Рядок 4. Кнопка «Мій об’єкт».
Примітка: кнопка «Мій об’єкт» розгортає додатковий сектор (3), для створення об’єкту користувачем. Робить сектор 2 неактивним. Повторне натискання на кнопку приховує сектор 3, а сектор 2 стає активним. Кнопка містить стрілку індикатор. Стрілка  вниз означає, що сектор 3 закритий/згорнутий, стрілка вгору — що сектор 3 відкритий/розгорнутий а сектор 2 неактивний (неможливість вибирати/вводити дані).

Сектор 3, введення/створення параметрів «Мій об’єкт» (об’єкта 1)
Рядок 1. Напис по центру: Створення об’єкту.
Рядок 2. Поле 1 для ручного введення назви об’єкту ("name"). По замовчуванню містить «Введіть назву об’єкту»
Рядок 3. Поле 2 для ручного введення числового параметру ("value"). По замовчуванню містить «Введіть число», 
Випадний список з мірами ("unit") відповідного режиму. 
Примітка: 
в режимі «Площа» міри – Квадратні кілометри (km²), Квадратні милі (mi²), Гектари (ha), Акри (ac)
в режимі «Населення» міри – кількість осіб.
Рядок 4. Іконка “і”, tooltips, з текстом «min - 0,001, max - 40000000». Поле для введення значення діаметру об’єкта 1, від 40000000 до 0,001 метра. По замовчуванню містить напис «Введіть масштабований діаметр об’єкта в метрах»
Примітка: Введені параметри в секторі 3 блоку Географія вважаються системою як дані про об’єкт 1 і береться до розрахунків, масштабуванню і малювання кіл на карті.


Сектор 4, вибору параметрів об’єкта 2
Рядок 1. Напис по центру: Вибір другого об’єкту масштабування.
Рядок 2. 
Випадний список 1, по замовчуванню містить напис «Виберіть категорію об’єкта». Додана можливість вибору усіх категорій подій «Усі категорії». 
Випадний список 2, по замовчуванню містить напис «Виберіть об’єкт», Список об’єктів для вибору відповідає категорії об’єктів, яку користувач вибрав у випадному списку 1. Якщо у випадному списку 1 вибрана категорія «Усі категорії», у списку об’єктів для вибору, активні усі об’єкти.
Випадний список 3, по замовчуванню містить напис «Виберіть рік». У випадному списку роки які присутні в бібліотеці про об’єкт 2, вибраний користувачем у Випадному списку 2
Рядок 3. Кнопка «Мій об’єкт».
Примітка: кнопка «Мій об’єкт» розгортає додатковий сектор (5), для створення об’єкту користувачем. Робить сектор 4 неактивним. Повторне натискання на кнопку приховує сектор 5, а сектор 4 стає активним. Кнопка містить стрілку індикатор. Стрілка  вниз означає, що сектор 5 закритий/згорнутий, стрілка вгору — що сектор 5 відкритий/розгорнутий а сектор 4 неактивний (неможливість вибирати/вводити дані).

Сектор 5, введення/створення параметрів «Мій об’єкт» (об’єкта 2)
Рядок 1. Напис по центру: Створення об’єкту.
Рядок 2. Поле 1 для ручного введення назви об’єкту ("name"). По замовчуванню містить «Введіть назву об’єкту»
Рядок 3. Поле 2 для ручного введення числового параметру ("value"). По замовчуванню містить «Введіть число», 
Випадний список з мірами ("unit") відповідного режиму: 
Примітка: 
в режимі «Площа» міри – Квадратні кілометри (km²), Квадратні милі (mi²), Гектари (ha), Акри (ac)
в режимі «Населення» міри – кількість осіб.
Примітка: Введені параметри в секторі 5 блоку Географія вважаються системою як дані про об’єкт 2 і береться до розрахунків, масштабуванню і малювання кіл на карті.


Сектор 6
Рядок 1. Кнопка «Розрахувати»
Рядок 2. Кнопка «Скинути»

Сектор 7
Рядок 1: Напис по центру: Масштабування кіл.
Рядок 2: Кнопка «-». Кнопка «Заданий масштаб». Кнопка «+»

Блок Гроші містить:
Примітка: Категорії об’єктів – компанії, персони. Об’єкти – назви компаній(містяться в категорії 
- компанії), імена персон(містяться в категорії - персони).
Примітка: блок Гроші  не містить режимів розрахунку.


Сектор 1, вибору параметрів об’єкта 1
Рядок 1. Напис по центру: Вибір першого об’єкту масштабування.
Рядок 2. 
Випадний список 1, по замовчуванню містить напис «Виберіть категорію об’єкта». Додана можливість вибору усіх категорій об’єкта «Усі категорії».
Випадний список 2, по замовчуванню містить напис «Виберіть об’єкт», Список об’єктів для вибору відповідає категорії об’єктів, яку користувач вибрав у випадному списку 1. Якщо у випадному списку 1 вибрана категорія «Усі категорії», у списку об’єктів для вибору, активні усі об’єкти. 
Випадний список 3, по замовчуванню містить напис «Виберіть рік». У випадному списку роки які присутні в бібліотеці про об’єкт 1 вибраний користувачем у Випадному списку 2 
Рядок 3. Іконка “і”, tooltips, з текстом «min - 0,001, max - 40000000». Поле для введення значення діаметру об’єкта 1, від 40000000 до 0,001 метра. По замовчуванню містить напис «Введіть діаметр об’єкта в метрах»
Рядок 4. Кнопка «Довільний капітал» 
Примітка: кнопка «Довільний капітал» розгортає додатковий сектор (2), для створення події користувачем. Робить сектор 1 неактивним. Повторне натискання на кнопку приховує сектор 2, а сектор 1 стає активним. Кнопка містить стрілку індикатор. Стрілка  вниз означає, що сектор 2 закритий/згорнутий, стрілка вгору — що сектор 2 відкритий/розгорнутий а сектор 1 неактивний (неможливість вибирати/вводити дані)

Сектор 2, введення/створення параметрів «Довільний капітал» (об’єкта 1)
Рядок 1. Напис по центру: Створення довільного капіталу.
Рядок 2. Поле 1 для ручного введення назви капіталу ("name"). По замовчуванню містить «Введіть назву капіталу»
Рядок 3. Поле 2 для ручного введення суми ("value"). По замовчуванню містить «Введіть суму», після поля в рядку введення суми текст «USD»  ("unit") (згодом можна додати вибір валют і автоматичну конвертацію до долара США)
Рядок 4. Іконка “і”, tooltips, з текстом «min - 0,001, max - 40000000». Поле для введення значення діаметру події (об’єкта 1) 1, від 40000000 до 0,001 метра. По замовчуванню містить напис «Введіть діаметр капіталу  в метрах»
Примітка: Введені параметри в секторі 2 блоку Гроші (назва і сума) вважаються системою як дані про об’єкт 1 і береться до розрахунків, масштабуванню і малювання кіл на карті.

Сектор 3, вибору параметрів об’єкта 2
Рядок 1. Напис по центру: Вибір другого об’єкту масштабування.
Рядок 2. 
Випадний список 1, по замовчуванню містить напис «Виберіть категорію об’єкта». Додана можливість вибору усіх категорій об’єкта «Усі категорії».
Випадний список 2, по замовчуванню містить напис «Виберіть об’єкт», Список об’єктів для вибору відповідає категорії об’єктів, яку користувач вибрав у випадному списку 1. Якщо у випадному списку 1 вибрана категорія «Усі категорії», у списку об’єктів для вибору, активні усі об’єкти. 
Випадний список 3, по замовчуванню містить напис «Виберіть рік». У випадному списку роки які присутні в бібліотеці про об’єкт 1 вибраний користувачем у Випадному списку 2 
Рядок 3. Кнопка «Довільний капітал» 
Примітка: кнопка «Довільний капітал» розгортає додатковий сектор (4), для створення події користувачем. Робить сектор 3  неактивним. Повторне натискання на кнопку приховує сектор 4, а сектор 3 стає активним. Кнопка містить стрілку індикатор. Стрілка  вниз означає, що сектор 4 закритий/згорнутий, стрілка вгору — що сектор 4 відкритий/розгорнутий а сектор 3 неактивний (неможливість вибирати/вводити дані)

Сектор 4, введення/створення параметрів «Довільний капітал» (об’єкта 2)
Рядок 1. Напис по центру: Створення довільного капіталу.
Рядок 2. Поле 1 для ручного введення назви капіталу ("name"). По замовчуванню містить «Введіть назву капіталу»
Рядок 3. Поле 2 для ручного введення суми ("value"). По замовчуванню містить «Введіть суму», після поля в рядку введення суми текст «USD» ("unit") (згодом можна додати вибір валют і автоматичну конвертацію до долара США)
Примітка: Введені параметри в секторі 4 блоку Гроші (назва і сума) вважаються системою як дані про об’єкт 2 і береться до розрахунків, масштабуванню і малювання кіл на карті.


Сектор 5
Рядок 1. Кнопка «Розрахувати»
Рядок 2. Кнопка «Скинути»
Сектор 6
Рядок 1: Напис по центру: Масштабування кіл.
Рядок 2: Кнопка «-». Кнопка «Заданий масштаб». Кнопка «+»

Блок Час містить:
Примітка: блок Час не містить режимів розрахунку і категорій подій, лише список подій(в майбутньому будемо структурувати події)


Сектор 1, вибору параметрів події (об’єкта 1)
Рядок 1. Напис по центру: Вибір першої події.
Рядок 2. 
Випадний список 1, по замовчуванню містить напис «Виберіть подію», у списку подій для вибору, активні усі події. 
Рядок 3. Іконка “і”, tooltips, з текстом «min - 0,001, max - 40000000». Поле для введення значення діаметру події (об’єкта 1) 1, від 40000000 до 0,001 метра. По замовчуванню містить напис «Введіть масштабований діаметр року події  в метрах»
Рядок 4. Кнопка «Моя подія» 
Примітка: кнопка «Моя подія» розгортає додатковий сектор (2), для створення події користувачем. Робить сектор 1 неактивним. Повторне натискання на кнопку приховує сектор 2, а сектор 1 стає активним. Кнопка містить стрілку індикатор. Стрілка  вниз означає, що сектор 2 закритий/згорнутий, стрілка вгору — що сектор 2 відкритий/розгорнутий а сектор 1 неактивний (неможливість вибирати/вводити дані)

Сектор 2, введення/створення параметрів «Моя подія» (об’єкта 1)
Рядок 1. Напис по центру: Створення моєї події.
Рядок 2. Поле 1 для ручного введення назви події ("name"). По замовчуванню містить «Введіть назву події»
Рядок 3. . Іконка “і”, tooltips, з текстом «Якщо подія тривала водному році , введіть рік лише в першому полі. Якщо подія тривала більше одного року, введіть роки в обох полях. 
Якщо рік до нашої ери, введіть рік зі знаком «-»»
Рядок 4. 
Поле 2 для ручного введення року. По замовчуванню містить «Введіть рік початку» "start_year": {"value":… ,"unit": "year"}
Поле 3 для ручного введення року. По замовчуванню містить «Введіть рік завершення» "end_year": {"value":.… ,"unit": "year"}
Рядок 5. Іконка “і”, tooltips, з текстом «min - 0,001, max - 40000000». Поле для введення значення діаметру події (об’єкта 1) 1, від 40000000 до 0,001 метра. По замовчуванню містить напис «Введіть масштабований діаметр року події  в метрах»
Примітка: Введені параметри в секторі 2 блоку Час (назва і рік/роки) вважаються системою як дані про об’єкт 1 і береться до розрахунків, масштабуванню і малювання кіл на карті.

Сектор 3, вибору параметрів об’єкта 2
Рядок 1. Напис по центру: Вибір другої події масштабування.
Рядок 2. Випадний список 1, по замовчуванню містить напис «Виберіть подію», у списку подій для вибору, активні усі події.
Рядок 3. Кнопка «Моя подія»

Сектор 4, введення/створення параметрів «Моя подія» (об’єкта 2)
Рядок 1. Напис по центру: Створення моєї події.
Рядок 2. Поле 1 для ручного введення назви події ("name"). По замовчуванню містить «Введіть назву події»
Рядок 3. Текстова інформація «Якщо подія не тривала, введіть один рік в першому полі. Якщо подія тривала, введіть роки в обох полях. Якщо рік до нашої ери, введіть рік зі знаком «-»»
Рядок 4.
Поле 2 для ручного введення року. По замовчуванню містить «Введіть рік початку» "start_year": {"value":… ,"unit": "year"}
Поле 3 для ручного введення року. По замовчуванню містить «Введіть рік завершення» "end_year": {"value":.… ,"unit": "year"}
Примітка: Введені параметри в секторі 4 блоку Час (назва і рік/роки) вважаються системою як дані про об’єкт 2 і береться до розрахунків, масштабуванню і малювання кіл на карті.

Сектор 5
Рядок 1. Кнопка «Розрахувати»
Рядок 2. Кнопка «Скинути»

Сектор 6
Рядок 1: Напис по центру: Масштабування кіл.
Рядок 2: Кнопка «-». Кнопка «Заданий масштаб». Кнопка «+»

Блок Довільно містить:

У цьому блоці користувач формує параметри об’єктів 1 і 2,  вводить довільні назви і параметри в рядку. Введені дані рахується системою як реальні параметри об’єктів 1 і 2 і беруться для обчислень співвідношень/масштабів об’єктів 1 і  2.

Сектор 1, вибору параметрів об’єкта 1
Рядок 1. Напис по центру: Створення першого об’єкту масштабування.
Рядок 2. Поле для написання довільної назви, по замовчуванню містить «Введіть назву». Поле для введення цифри (сума), по замовчуванню містить «Введіть цифру».
Рядок 3. 
Випадний список-1 категорій мір, по замовчуванню містить напис «Виберіть категорію мір». Додана можливість вибору усіх категорій мір. 
Випадний список-2 з мірами тої категорії яку вибрав користувач в Випадному списоку-1. по замовчуванню містить напис «Виберіть міру».
Рядок 4. Іконка “і”, tooltips, з текстом «min - 0,001, max - 40000000». Поле для введення значення діаметру об’єкта 1, від 40000000 до 0,001 метра. По замовчуванню містить напис «Введіть діаметр об’єкта в метрах»

Сектор 2, вибору параметрів об’єкта 1
Рядок 1. Напис по центру: Створення другого об’єкту масштабування.
Рядок 2. Поле для написання довільної назви. Поле для введення цифри (сума).  
Випадний список-1 з мірами тої категорії мір яку вибрав користувач в Випадному списоку-1 у секторі 1, вибору параметрів об’єкта 1. по замовчуванню містить напис «Виберіть міру».

Сектор 3
Рядок 1. Кнопка «Розрахувати»
Рядок 2. Кнопка «Скинути»

Сектор 6
Рядок 1: Напис по центру: Масштабування кіл.
Рядок 2: Кнопка «-». Кнопка «Заданий масштаб». Кнопка «+»

У цьому розділі описується логіка кнопок, спільна для всіх блоків.

Кнопка «Розрахувати»:

Кнопка "Розрахувати" запускає обчислення та малювання кіл у кожному з блоків. Усі поля, дані про об’єкти мають бути вибрано або заповнено. В іншому випадку контур поля яке має містити інформацію/дані стає червоним, до введення/вибору необхідних даних для системи користувачем.

Послідовність заповнення полів користувачем не регламентується. 

Після першого натискання "Розрахувати" у будь якому з блоків, сектор вибору параметрів об’єкта 1
блокуються до натискання "Скинути".

Кнопка «Скинути»:

Кнопка "Скинути" повертає блок до початкового стану: очищує поля в секторах вибору параметрів об’єкта 1 і об’єкта 2, дозволяє заново вводити дані, видаляє кола на карті та інфо-блок; точка розрахунку (маркер) на мапі не змінюється.

Кнопки вибору режиму розрахунків:

У блоках містяться кнопки для вибору режиму розрахунків.

У блоці Всесвіт: кнопки режиму «Діаметр», «Відстань», «Маса», «Світність»
У блоці Географія: кнопки режиму «Площа», «Населення»
У блоці Гроші: кнопки вибору режиму відсутні
У блоці Події: кнопки вибору режиму відсутні.
У блоці Довільно: кнопки вибору режиму відсутні.

Після вибору режиму розрахунку, кнопки інших режимів стають неактивними (змінюють колір на світло-сірий) до натискання кнопки "Скинути".
 
Опис логіки дій в блоках

Користувач повинен вибрати один з режимів розрахунку (якщо блок містить такі).

Кожен з режимів працює лише однією бібліотекою і відповідними даними
Якщо блок не містить кнопок режиму розрахунків, користувач одразу може перейти до вибору категорії і об’єктів та введення параметру (діаметру кола) об’єкта 1 з відповідної режиму бібліотеки.

Користувач обирає об’єкт 1, через випадні списки в секторі вибору об’єкта 1 або створює об’єкт 1 самостійно в блоках де передбачено таке створення (блок Час і блок Довільно).
Задає параметр в поле для введення значення діаметру об’єкта 1, від 40000000 до 0,001 метра

Користувач обирає об’єкт 2, через випадні списки в секторі вибору об’єкта 2. або створює об’єкт 2 самостійно.

Після заповнення полів і натискання кнопки "Розрахувати" системою запускається обчислення пропорцій.

Відповідно до розрахунків на карті малюються кола з одним центром яким є точка (маркер) на карті по замовчуванню або переміщена точка (маркер) в інше місце користувачем до чи після розрахунків.

Після першого натискання кнопки "Розрахувати", сектор вибору об’єкта 1. стає неактивним до натискання кнопки "Скинути".

На мапі малюються два кола: одне для об’єкта 1 (синій колір) інше для об’єкта 2 (унікальний наступний колір).

Усі дані про розрахунок зберігаються в масиві з координатами, масштабами, назвами, режимом і кольорами.

На мапі (справа) з’являється Інформаційний блок з описом, реальним розміром, діаметром кола або один з текстів бібліотеки повідомлень, якщо діаметр кола виходить за межі ліміту (не менше 0,001 метра, не більше 40000 кілометрів)  кожного об’єкта.

Користувач може додати новий об’єкт 2, ввести нові дані про об’єкт 2, натиснути ще раз "Розрахувати" — додається нове (третє/наступне) коло з новим кольором (унікальний колір, інший аніж ті, що вже намальовані кола при попередніх розрахунках) і новим рядком в Інформаційному блоці про наступний об’єкт 2. Назва такого об’єкту написана кольором яким намальовано коло на карті (унікальний колір, інший аніж ті, що вже намальовані кола і написані назви в інформаційному блоці при попередніх розрахунках) і так до п’яти розрахунків. В майбутньому кількість таких розрахунків можна збільшувати за оплату про-версії.

Після натискання кнопки "Скинути" всі режими і поля для введення даних повертаються до стану, в якому вони були одразу після відкриття блоку.
Після натискання кнопки "Скинути" Користувач знову може вибрати режим, категорії, об’єкти, ввести масштаб і розрахувати.

Інформаційний блок

Інформаційний блок з’являється справа екрану, на мапі, одразу після натискання кнопки «Розрахувати». Має сірий колір з 40% прозорості. Його ціль інформувати користувача про об’єкти які користувач має намір масштабувати. Має містити назву обєкта, його реальний/заданий розмір з мірою, діаметр кола на карті, може містити текст з бібліотеки повідомлень якщо діаметр кола виходить за допустимі межі візуалізації.  
 
В інформаційному блоці, назва об’єктів написана кольором таким самим яким намальовано коло і відповідає тому об’єкту.
Діаметр:
Назва об’єкту 1-реальний діаметр в кілометрах-масштабований діаметр кола на карті в метрах (заданий користувачем)
Назва об’єкту 2-реальний діаметр в кілометрах-масштабований діаметр кола на карті в метрах
Якщо користувач не натиснув кнопку «Скинути» і не вийшов з блоку, а ввів новий об’єкт 2 для розрахунку, до цього списку додається інформація по прикладу інформації попередніх об’єктів.
Маси:
Назва об’єкту 1-реальна маса в тонах-масштабований діаметр кола на карті в метрах (заданий користувачем)
Назва об’єкту 2-реальна маса в тонах-масштабований діаметр кола на карті в метрах.
Якщо користувач не натиснув кнопку «Скинути» і не вийшов з блоку, а ввів новий об’єкт 2 для розрахунку, до цього списку додається інформація по прикладу інформації попередніх об’єктів
Світіння:
Назва об’єкту 1-реальна світність в сонячній світності-масштабований діаметр кола на карті в метрах (заданий користувачем)
Назва об’єкту 2-реальна світність в сонячній світності -масштабований діаметр кола на карті в метрах.
Якщо користувач не натиснув кнопку «Скинути» і не вийшов з блоку, а ввів новий об’єкт 2 для розрахунку, до цього списку додається інформація по прикладу інформації попередніх об’єктів
Відстань:
Назва об’єкту 1 –реальний діаметр в кілометрах-масштабований діаметр кола на карті в метрах (заданий користувачем)
Назва об’єкту 2-реальна відстань від об’єкту 2 до об’єкту 1 в кілометрах-масштабований діаметр кола на карті в метрах.
Якщо користувач не натиснув кнопку «Скинути» і не вийшов з блоку, а ввів новий об’єкт 2 для розрахунку, до цього списку додається інформація по прикладу інформації об’єкта 2
Гроші:
Назва об’єкту 1- реальна кількість грошей в доларах -масштабований діаметр кола на карті в метрах 
(заданий користувачем)
Назва об’єкту 2- реальна кількість грошей в доларах -масштабований діаметр кола на карті в метрах.
Якщо користувач не натиснув кнопку «Скинути» і не вийшов з блоку, а ввів новий об’єкт 2 для розрахунку, до цього списку додається інформація по прикладу інформації попередніх об’єктів
Населення:
Назва об’єкту 1- реальна кількість населення в особах-масштабований діаметр кола на карті в метрах (заданий користувачем)
Назва об’єкту 2- реальна кількість населення в особах-масштабований діаметр кола на карті в метрах.
Якщо користувач не натиснув кнопку «Скинути» і не вийшов з блоку, а ввів новий об’єкт 2 для розрахунку, до цього списку додається інформація по прикладу інформації попередніх об’єктів
Площа:
Назва об’єкту 1-реальна площа в кілометрах квадратних-масштабований діаметр кола на карті в метрах (заданий користувачем)
Назва об’єкту 2-реальна площа в кілометрах квадратних-масштабований діаметр кола на карті в метрах.
Якщо користувач не натиснув кнопку «Скинути» і не вийшов з блоку, а ввів новий об’єкт 2 для розрахунку, до цього списку додається інформація по прикладу інформації попередніх об’єктів
Події:
Назва об’єкту 1- рік/роки події (наприклад: «1980 рік » або «1980-1989 роки »)  в роках (якщо рік до нашої ери, рік зі знаком мінус -масштабований діаметр кола на карті в метрах (заданий користувачем)
Назва об’єкту 2- рік/роки події в роках (якщо рік до нашої ери, рік зі знаком мінус -масштабований діаметр кола на карті в метрах.
Якщо користувач не натиснув кнопку «Скинути» і не вийшов з блоку, а ввів новий об’єкт 2 для розрахунку, до цього списку додається інформація по прикладу інформації попередніх об’єктів. 
Довільно:
Назва об’єкту 1- задана цифра і введений параметр -масштабований діаметр кола на карті в метрах (заданий користувачем)
Назва об’єкту 2- задана цифра і введений параметр -масштабований діаметр кола на карті в метрах.
Якщо користувач не натиснув кнопку «Скинути» і не вийшов з блоку, а ввів новий об’єкт 2 для розрахунку, до цього списку додається інформація по прикладу інформації попередніх об’єктів.

Інформаційний блок ховається одразу після натискання кнопки "Скинути". Або повернені на стартову сторінку натисканням на кнопку блоку в якому міститься кнопка скинути.

Кола (одна з двох основних задач сайту)

Кола на карті — це головний спосіб візуалізації масштабу об’єктів (розміру, відстані, маси тощо).

Центр для масштабування за замовчуванням — Площа Ринок 1, Львів: 49.8419, 24.0315, або користувач клацає по карті, щоб змінити його.

Усі кола мають один центр, центром усіх кіл це мітка на карті по замовчуванню (Площа Ринок 1, Львів: 49.8419, 24.0315), або якщо користувач змінив на карті, то нова точка і буде центром усіх кіл.

Масштаб кола який відповідає об’єкту 1, має діаметр який був заданий в полі для введення параметрів об’єкта 1.

Всі розміри об’єктів при розрахунках беруться з бібліотек і приводяться до одної міри через unit_converter.js (кілометри, тони,  роки, осіб, кілометрів квадратних і т.д)

Масштаб кіл для об’єктів 2 обчислюється у calculate_scaling.js 

Малюється лише контур кола - strokeWeight: 1.

Біля кола, в верхній частині над контуром кола (5 пікселів зміщення вверх), міститься назва об’єкта (таким самим кольором як і коло) яка відповідає колу. При зумуванні карти, кола відповідно масштабу збільшуються/зменшуються, а назва завжди залишається (слідує за колом) в верхній точці кола і не змінює масштаб шрифту

Усі намальовані кола, їх написи на мапі видаляються, одразу після натискання кнопки "Скинути".

Динамічне масштабування кіл

При натисканні кнопки масштабується лише розмір кіл (новий коефіцієнт множення застосовується до всіх кол), при цьому відносини між діаметрами зберігаються.


Логіка обчислень в блоках і режимах.

Блок Всесвіт.

Бібліотека univers_block.ру містить таку інформацію про об’єкти:

Приклад - { "category": "star","name": "Proxima Centauri","description": "Короткий текст про об’єкт", "diameter": { "value": 200000, "unit": "km" },"mass": { "value": 2.446e29, "unit": "kg" },"luminosity": { "value": 0.0017, "unit": "L☉" }, "distance_to_earth": {"value": 4,243, "unit": "ly"}},

Режим Діаметр
Система отримує "name" об’єкта 1, "diameter" об’єкта 1 і параметр в метрах (далі – "Параметр") об’єкта 1 заданий користувачем. "name" об’єкта 2 і "diameter" об’єкта 2
Система переводить усі отримані величини до однієї міри – кілометри.
Система робить розрахунок: 
"Параметр" об’єкта 1/"diameter" об’єкта 1= коефіцієнт (далі "Коефіцієнт")
"Коефіцієнт"*"diameter" об’єкта 2= Діаметр кола об’єкта 2
Система малює два кола: 
для об’єкта 1 – діаметр дорівнює параметру в метрах заданий користувачем для об’єкта 1
для об’єкта 2 – діаметр який дорівнює "Коефіцієнт"*"diameter" об’єкта 2= Діаметр кола об’єкта 2

Режим Маса
Система отримує "name" об’єкта 1, "mass" об’єкта 1 і параметр в метрах (далі – "Параметр") об’єкта 1 заданий користувачем. "name" об’єкта 2 і "mass" об’єкта 2
Система переводить усі отримані величини до однієї міри – тони.
Система робить розрахунок: 
"Параметр" об’єкта 1="mass" об’єкта 1
"mass" об’єкта 2/"mass" об’єкта 1= коефіцієнт (далі "Коефіцієнт")
"Параметр" об’єкта 1*"Коефіцієнт"= Діаметр кола об’єкта 2
Система малює два кола: 
для об’єкта 1 – діаметр дорівнює параметру в метрах заданий користувачем для об’єкта 1
для об’єкта 2 – діаметр який дорівнює "Параметр" об’єкта 1*"Коефіцієнт"= Діаметр кола об’єкта 2

Режим Відстань
Система отримує "name" об’єкта 1, "diameter" об’єкта 1 і параметр в метрах (далі – "Параметр") об’єкта 1 заданий користувачем. "name" об’єкта 2 і "distance_to_earth" об’єкта 2
Система переводить усі отримані величини до однієї міри – кілометри.
Система робить розрахунок: 
"Параметр" об’єкта 1/"diameter" об’єкта 1= коефіцієнт (далі "Коефіцієнт")
("Коефіцієнт"*"distance_to_earth" об’єкта 2)*2= Діаметр кола об’єкта 2
Система малює два кола: 
для об’єкта 1 – діаметр дорівнює параметру в метрах заданий користувачем для об’єкта 1
для об’єкта 2 – діаметр який дорівнює ("Коефіцієнт"*"distance_to_earth" об’єкта 2)*2= Діаметр кола об’єкта 2
Примітка: Коло об’єкта 2 відповідає відстані до об’єкта 1.

Режим Світність
Система отримує "name" об’єкта 1,"luminosity" об’єкта 1, і параметр в метрах (далі – "Параметр") об’єкта 1 заданий користувачем. "name" об’єкта 2 і "luminosity" об’єкта 2
Система переводить усі отримані величини до однієї міри – сонячне світіння.
Система робить розрахунок: 
"Параметр" об’єкта 1="luminosity" об’єкта 1
"luminosity" об’єкта 2/"luminosity" об’єкта 1= коефіцієнт (далі "Коефіцієнт")
"Параметр" об’єкта 1*"Коефіцієнт"= Діаметр кола об’єкта 2
Система малює два кола: 
для об’єкта 1 – діаметр дорівнює параметру в метрах заданий користувачем для об’єкта 1
для об’єкта 2 – діаметр який дорівнює "Параметр" об’єкта 1*"Коефіцієнт"= Діаметр кола об’єкта 2

Блок Географія
Бібліотека geo_cities.ру містить таку інформацію про об’єкти:
Приклад-{ "category": "Міста","country": "Україна","name": "Львів","description": "Короткий текст про об’єкт",
  "data": [
{"year": 1989,"area": {"value": 182, "unit": "km²"},"population": {"value": 816000, "unit": "осіб"}},
{"year": 2001,"area": {"value": 182, "unit": "km²"},"population": {"value": 732818, "unit": "осіб"}},

Бібліотека geo_countries.ру містить таку інформацію про об’єкти:
Приклад-{"category": "Країни","name": "Україна","description": "Короткий текст про об’єкт",
"data": [
{"year": 1989,"area": { "value": 603628, "unit": "km²" },"population": { "value": 51545200, "unit":"осіб"}},
{"year": 2001,"area": { "value": 603628, "unit": "km²" },"population": { "value": 48457000, "unit":"осіб"}},

Режим Площа
Система отримує "name" об’єкта 1, "area" об’єкта 1, по заданому користувачем "year", і параметр в метрах (далі – "Параметр") об’єкта 1 заданий користувачем. "name" об’єкта 2 і "area" об’єкта 2, по заданому користувачем "year"
Система переводить усі отримані величини до однієї міри – km².
Система робить розрахунок: 
"Параметр" об’єкта 1="area" об’єкта 1
"area" об’єкта 2/"area" об’єкта 1= коефіцієнт (далі "Коефіцієнт")
"Параметр" об’єкта 1*"Коефіцієнт"= Діаметр кола об’єкта 2
Система малює два кола: 
для об’єкта 1 – діаметр дорівнює параметру в метрах заданий користувачем для об’єкта 1
для об’єкта 2 – діаметр який дорівнює "Параметр" об’єкта 1*"Коефіцієнт"= Діаметр кола об’єкта 2

Режим Населення
Система отримує "name" об’єкта 1, "population" об’єкта 1, по заданому користувачем "year", і параметр в метрах (далі – "Параметр") об’єкта 1 заданий користувачем. "name" об’єкта 2 і "population" об’єкта 2, по заданому користувачем "year"
Система переводить усі отримані величини до однієї міри – "осіб".
Система робить розрахунок: 
"Параметр" об’єкта 1="population" об’єкта 1
"population" об’єкта 2/"population" об’єкта 1= коефіцієнт (далі "Коефіцієнт")
"Параметр" об’єкта 1*"Коефіцієнт"= Діаметр кола об’єкта 2
Система малює два кола: 
для об’єкта 1 – діаметр дорівнює параметру в метрах заданий користувачем для об’єкта 1
для об’єкта 2 – діаметр який дорівнює "Параметр" об’єкта 1*"Коефіцієнт"= Діаметр кола об’єкта 2

Блок Гроші
Бібліотека money_companies.ру містить таку інформацію про об’єкти:
Приклад-{"name": "Apple Inc.","category": "company","description": "Короткий текст про об’єкт", "capital": [{"year": 2015,"value": 710000000000,"unit": "USD"},{"year": 2020,"value": 1400000000000,"unit": "USD"}}

Бібліотека money_persons.ру містить таку інформацію про об’єкти:
Приклад-{"name": "Ілон Маск","category": "person", "description": "Короткий текст про об’єкт", "capital": [{"year": 2015,"value": 13000000000,"unit": "USD"},{"year": 2020,"value": 27000000000,"unit": "USD"}}

Користувач обирає категорію "company" або "person", відповідні дані отримуються з бібліотеки де міститься така інформація.

Також, крім бібліотеки користувач може задати свої параметри для об’єкта 1, через сектор який відкриває кнопка «Мій капітал».  Вводить назву через відповідне поле. Ця назва вважається системою як "name" об’єкта 1. Вводить суму через відповідне поле. Ця сума вважається системою як "capital" об’єкта 1. Загалом ці дані беруться для розрахунків і для даних в інформаційному блоці для об’єкта 1.

Система отримує "name" об’єкта 1, "capital" об’єкта 1, по заданому користувачем "year", і параметр в метрах (далі – "Параметр") об’єкта 1 заданий користувачем. "name" об’єкта 2 і "capital" об’єкта 2, по заданому користувачем "year"
Система переводить усі отримані величини до однієї міри – " USD ".
Система робить розрахунок: 
"Параметр" об’єкта 1="capital" об’єкта 1
"population" об’єкта 2/"capital" об’єкта 1= коефіцієнт (далі "Коефіцієнт")
"Параметр" об’єкта 1*"Коефіцієнт"= Діаметр кола об’єкта 2
Система малює два кола: 
для об’єкта 1 – діаметр дорівнює параметру в метрах заданий користувачем для об’єкта 1
для об’єкта 2 – діаметр який дорівнює "Параметр" об’єкта 1*"Коефіцієнт"= Діаметр кола об’єкта 2

Блок Час
Бібліотека events.ру містить таку інформацію про об’єкти:
Приклад-{"category": "history","name": "French Revolution","start_year": {"value": 1789,"unit": "year"},"end_year": {"value": 1799,"unit": "year"},"description": "A historical event that transformed the political and social landscape of France, having global impact."}

Система має сталу дату "current_year" - теперішній рік, цей рік береться автоматично і змінюється автоматично. Це початок розрахунків або центр кіл.

Також, крім бібліотеки користувач може задати свої параметри для об’єкта 1 або об’єкта 2, через сектори які відкриває кнопка «Моя подія».  Вводить назву через відповідне поле. Ця назва вважається системою як "name" об’єкта 1 або об’єкта 2. Вводить рік початку і рік закінчення (опційно *) через відповідне поле. Ці роки вважаються системою як "start_year" і "end_year" об’єкта 1 або об’єкта 2. Загалом ці дані беруться для розрахунків і для даних в інформаційному блоці для об’єкта 1 або об’єкта 2.

Система отримує "name" об’єкта 1, "start_year" об’єкта 1, "end_year" об’єкта 1(опційно *) і параметр в метрах (далі – "Параметр") об’єкта 1 заданий користувачем. "name" об’єкта 2 і "start_year" об’єкта 2, "end_year" об’єкта 2 (опційно *).

Система переводить усі отримані величини до однієї міри – "year"
Система робить розрахунок: 

"current_year"-"start_year" об’єкта 1="value_of_years"
Якщо "start_year" об’єкта 1 зі знаком «-» (мінус системою не враховується), тобто рік до нашої ери, розрахунок робиться так:
"current_year"+|"start_year"| об’єкта 1="value_of_years"

Якщо відома "end_year" об’єкта 1
(("current_year"-"end_year" об’єкта 1)/"value_of_years")*"Параметр"=Діаметр кола для "end_year" об’єкта 1
Якщо "end_year" об’єкта 1 зі знаком «-» (мінус системою не враховується), тобто рік до нашої ери, розрахунок робиться так:
(("current_year"+|"end_year"| об’єкта 1)/"value_of_years")*"Параметр"=Діаметр кола для "end_year" об’єкта 1

(("current_year"-"start_year" об’єкта 2)/"value_of_years")*"Параметр"=Діаметр кола для "start_year" об’єкта 2
Якщо "start_year" об’єкта 2 зі знаком «-» (мінус системою не враховується), тобто рік до нашої ери, розрахунок робиться так:
(("current_year"+|"start_year"| об’єкта 2)/"value_of_years")*"Параметр"=Діаметр кола для "start_year" об’єкта 2
 
Якщо відома "end_year" об’єкта 2
(("current_year"-"end_year" об’єкта 2)/"value_of_years")*"Параметр"=Діаметр кола для "end_year" об’єкта 2
Якщо "end_year" об’єкта 2 зі знаком «-» (мінус системою не враховується), тобто рік до нашої ери, розрахунок робиться так:
(("current_year"+|"end_year"| об’єкта 2)/"value_of_years")*"Параметр"=Діаметр кола для "end_year" об’єкта 2

Система малює кола: 
для об’єкта 1 "start_year" – "Параметр" в метрах заданий користувачем для об’єкта 1= діаметр
для об’єкта 1 "end_year" – (("current_year" - або + "end_year" об’єкта 1) / "value_of_years" ) * "Параметр" = діаметр
для об’єкта 2 "start_year" – (("current_year" - або + "start_year" об’єкта 2) / "value_of_years" ) * "Параметр" = діаметр 
для об’єкта 2 "end_year" – (("current_year" - або + "end_year" об’єкта 2) / "value_of_years" ) * "Параметр" = діаметр 

Якщо відома або задана "end_year" об’єкта, обидва кола об’єкта малюються одним кольором.

Якщо відома або задана "end_year", область між двома контурами кіл об’єкта (від кола початку "start_year" до кола завершення "end_year") заливається із заданою прозорістю (50%) від кольору кіл, що візуально демонструє, що подія тривала протягом певного періоду.

Якщо задана лише "start_year" об’єкта, малюється одне коло, що позначає інстантний момент часу.

При наведенні курсора на одне з кіл, виводиться спливаюча підказка з відповідною назвою події, датою (початку або завершення) та тривалістю (розрахована як різниця між двома датами, якщо обидва задані).

Блок Довільно
Блок довільно не містить бібліотеки.

Користувач задає параметри в полях сектора для об’єкту 1: "name" об’єкта 1 (назва), "value" об’єкта 1 (число), "unit" (міра) обєкта 1 і параметр в метрах (далі – "Параметр") об’єкта 1.
Користувач задає параметри в полях сектора для об’єкту 2: "name" об’єкта 2 (назва), "value" об’єкта 2 (число), "unit" (міра з категорії мір яка вибрана для обєкта 1) обєкта 2
Система переводить отримані величини "value" до однієї міри.

Система робить розрахунок: 
"Параметр" об’єкта 1="value" об’єкта 1
"value" об’єкта 2/"value" об’єкта 1= коефіцієнт (далі "Коефіцієнт")
"Параметр" об’єкта 1*"Коефіцієнт"= Діаметр кола об’єкта 2
Система малює два кола: 
для об’єкта 1 – діаметр дорівнює параметру в метрах заданий користувачем для об’єкта 1
для об’єкта 2 – діаметр який дорівнює "Параметр" об’єкта 1*"Коефіцієнт"= Діаметр кола об’єкта 2

Допоміжні елементи, інша специфіка.

Іконка “і” швидкого перегляду допоміжної інформації. Підхід швидкого перегляду допоміжної інформації, через іконку “і” поруч із полем, дозволить користувачу розкрити додаткове пояснення щодо вибору, введення, чи заповнення полів.



Кнопки для масштабування кіл (Одна з двох основних задач сайту)

Якщо діаметр кола виходить за межі допустимого значення (наприклад, якщо обчислений розмір перевищує встановлений ліміт в 40000 кілометрів діаметром або менше 0,001 м) в інформаційному блоці, над усіма об’єктами, виводиться повідомлення «Діаметр кола одного з об’єктів виходить за допустимі межі візуалізації. Скористайтесь кнопками масштабування кіл для корекції візуалізації» 

Масштабування кіл - окремий набір трьох кнопок: «-», «Заданий масштаб»  «+» які впливають лише на візуальне масштабування кіл (тобто, на коефіцієнт, який застосовується до розрахованого діаметра), без зміни зуму самої карти.

Логіка масштабування кнопок «Масштабування кіл» (експоненційне масштабування):
D_new = D_old × F
де D_new – новий діаметр, D_old – поточний діаметр, а F – коефіцієнт, який залежить від того, чи збільшуємо, чи зменшуємо розмір кола.
Кнопка «-»: При натисканні кнопки F = 0.95  (тобто, новий діаметр = поточний діаметр × 0.95)
Кнопка «+»: При натисканні кнопки F = 1.05  (тобто, новий діаметр = поточний діаметр × 1.05)
Кнопка «Заданий масштаб»: повертає діаметри кіл до початкових параметрів заданих користувачем.

При натисканні кнопки масштабування кіл, масштабується лише розмір кіл (новий коефіцієнт множення застосовується до всіх кіл), при цьому відносини між діаметрами зберігаються.


Автоматичне масштабування карти згідно з найбільшим колом
Розрахунок діаметрів кіл:
Після натискання кнопки «Розрахувати» система обчислює діаметри для всіх визначених об’єктів відповідно до встановленої масштабу.
Система визначає найбільший діаметр серед розрахованих кіл для об’єктів.
Умови відображення:
Якщо розрахований діаметр об’єкта знаходиться в допустимому діапазоні (тобто менше або дорівнює 40 000 км і більше або дорівнює 0,001 м), коло об’єкта відображаються.
Якщо обчислений діаметр кола об’єкта перевищує верхню межу (40 000 км) або менше нижньої межі (0,001 м), таке коло не малюється, і автоматичне масштабування карти не здійснюється.
Механізм автоматичного зумування:
Після успішного розрахунку, коли найбільший діаметр кола, (один з об’єктів) знаходиться у допустимому діапазоні, система автоматично встановлює масштаб (зум) карти таким чином, щоб найбільше коло повністю було видно у візуальній області.
Якщо, наприклад, розраховано коло 1000 км діаметром, карта автоматично зумується так, щоб це коло займає більшу частину екрану, забезпечуючи чітке бачення його меж.
При кожному наступному розрахунку (наприклад, з’являється третє коло, яке більше попередніх), система оновлює зум карти на основі нового найбільшого діаметра, гарантуючи, що найбільше коло завжди буде повністю видимим.
Взаємодія з масштабуванням кіл:
Користувач може самостійно коригувати розміри кіл за допомогою спеціальних кнопок (для масштабування лише кіл).
При натисканні цих кнопок система перераховує діаметри кіл із новим коефіцієнтом масштабування.
Якщо за допомогою цих дій найбільше коло стає меншим або дорівнює 40 000 км (і/або більшим або дорівнює 0,001 м у нижній межі), карта автоматично зумується так, щоб нове, скориговане коло стало повністю видимим.
Цей механізм дозволяє користувачу контролювати візуальне представлення даних, при цьому система завжди гарантує оптимальний зум для найбільшого кола.
Інформування користувача:
Якщо діаметр кола виходить за межі допустимого значення (наприклад, якщо обчислений розмір перевищує встановлений ліміт в 40000 кілометрів діаметром або менше 0,001 м) в інформаційному блоці, над усіма об’єктами, виводиться повідомлення «Діаметр кола одного з об’єктів виходить за допустимі межі візуалізації. Скористайтесь кнопками масштабування кіл для корекції візуалізації»
 
У цьому випадку карта не зумується автоматично до тих пір, поки користувач не відкоригує розміри кіл до допустимих меж.
Алгоритм обчислення оптимального зуму карти (теоретично)

Визначення максимального діаметра кола:

Після розрахунку діаметрів для всіх об’єктів система знаходить максимальний розрахований діаметр (max_diameter), виражений в метрах.

Визначення розмірів візуальної області (viewport):

Система отримує розміри поточного екрану або вікна карти – ширину (ViewportWidth) та висоту (ViewportHeight) у пікселях.

Для забезпечення комфортного відображення додається запас (margin або padding) навколо найбільшого кола

Обчислення вимог до відображення:

Щоб найбільше коло було повністю видимим, його повна ширина (max_diameter) плюс заданий запас повинні вміщатися у відповідній стороні вікна.

Наприклад, якщо ми орієнтуємося на горизонтальну сторону, то необхідно, щоб:
\text{max_diameter} + 2 \times \text{margin} \leq (\text{ViewportWidth} \times \text{resolution}) 
де resolution – кількість метрів, що відповідають одному пікселю на карті при поточному зумі.

Визначення зв’язку між зумом і ground resolution:

Більшість картографічних API (наприклад, Google Maps) використовують формулу, за якою ground resolution (метри на піксель) зменшується експоненційно зі збільшенням зуму.

Формула часто має вигляд:
resolution=initialResolution2zoom\text{resolution} = \frac{\text{initialResolution}}{2^{\text{zoom}}}resolution=2zoominitialResolution 

де initialResolution (приблизно 156543 м/піксель для карти Землі на широті 0) – базова величина.

Обчислення необхідного зуму:

Знаходимо новий зум таким чином, щоб візуальна ширина карти (у метрах) була достатньою для відображення найбільшого кола з запасом.

Перетворюючи нерівність, отримуємо:
2^{\text{zoom}} \geq \frac{\text{initialResolution} \times \text{ViewportWidth}}{\text{max_diameter} + 2 \times \text{margin}} 

Тоді:

\text{zoom} \geq \log_2\left(\frac{\text{initialResolution} \times \text{ViewportWidth}}{\text{max_diameter} + 2 \times \text{margin}}\right) 
Обчислений зум встановлюється на карті, щоб найбільше коло стало повністю видимим у заданій візуальній області.

Динамічне оновлення зуму:

При кожному розрахунку або при зміні найбільшого діаметра (наприклад, через додавання нового об’єкта) система повторно обчислює потрібний зум за вищезазначеною формулою.

Якщо користувач сам змінює масштаб кіл (за допомогою кнопок масштабування), коефіцієнт масштабування змінюється, і система перераховує зум так, щоб після корекції нове найбільше коло було повністю видимим.

Обмеження відображення:

Якщо розрахований діаметр будь-якого кола перевищує верхню межу (наприклад, 40 000 км) або менше нижньої межі (0,001 м), система не застосовує автоматичне масштабування і не відображає ці кола. 

// Вхідні дані:
max_diameter = отриманий максимальний діаметр (в метрах)
margin = бажаний запас (в метрах)
ViewportWidth = ширина вікна карти (в пікселях)
initialResolution = 156543 (м/піксель) // для Землі на широті 0

// Перевірка меж допустимості:
if (max_diameter > 40_000_000 || max_diameter < 0.001) {
    Вивести "Діаметр кола виходить за допустимі межі"
    return // не робимо автоматичного зумування
}
// Обчислення необхідного зуму:
required_zoom = log2( (initialResolution * ViewportWidth) / (max_diameter + 2 * margin) )
// Встановлення зуму:
карта.setZoom(required_zoom)

Бібліотека повідомлень

Бібліотека повідомлень в Інформаційному полі, для об’єктів які вийшли за допустимі межі візуалізації. У випадку коли при розрахунку діаметр об’єкта менше 0,001 метра, відповідно до діапазону "threshold_m" результату діаметра кола обєкта, після назви, реального розміру і діаметру кола написано такий порівняльний текст:
[ {"threshold_m": 1e-12,"text": "Це менше розміру протона — практично межа фізичної матерії"},
  {"threshold_m": 1e-11,"text": "Це як розмір ядра атома водню"},
  {"threshold_m": 1e-10,"text": "Це як атом гідрогену (~0.1 нанометра)"},
  {"threshold_m": 5e-10,"text": "Це як маленька молекула, наприклад, CO₂"},
  {"threshold_m": 2e-9,"text": "Це як велика органічна молекула, наприклад, глюкоза"},
  {"threshold_m": 1e-8,"text": "Це як товщина подвійної спіралі ДНК (~2 нм)"},
  {"threshold_m": 1e-7,"text": "Це як вірус грипу або бактеріофаг"},
  {"threshold_m": 5e-7,"text": "Це як великий вірус або крихітна бактерія"},
  {"threshold_m": 1e-6,"text": "Це як типова бактерія (наприклад, кишкова паличка)"},
  {"threshold_m": 5e-6,"text": "Це як ядро клітини або дріжджова клітина"},
  {"threshold_m": 1e-5,"text": "Це як спора цвілевих грибів або частинка пилу"},
  {"threshold_m": 5e-5,"text": "Це як тонка волосина комахи"},
  {"threshold_m": 1e-4,"text": "Це як товщина людського волосся (~0.1 мм)"},
  {"threshold_m": 5e-4,"text": "Це як товщина грубого волосся або шкірки цибулі"},
  {"threshold_m": 1e-3,"text": "Це як розмір пилинки або цвілевої краплі"},
  {"threshold_m": 5e-3,"text": "Це як зерно піску або мікроскопічна комаха"},
  {"threshold_m": 1e-2,"text": "Це як довжина мурашки (~1 см)"}]

У випадку коли при розрахунку діаметр об’єкта більше 40000 кілометрів, після назви, реального розміру і діаметру кола в Інформаційному полі написано такий текст: "Коло більше за нашу планету"



Мова інтерфейсу

Сайт підтримує три мови: українська (за замовчуванням), англійська, іспанська.
Перемикач мови розміщується в блоці Мови
Після вибору мови вся сторінка миттєво оновлюється: перекладаються всі кнопки, назви розділів, інтерфейси вибору об’єктів, внутрішні елементи блоків, підписи, інструкції.
Також перекладаються динамічні елементи: інформаційний блок, назви об’єктів, одиниці виміру, підписи до кіл на карті 
Переклад здійснюється з використанням попередньо підготовлених мовних файлів (наприклад, languages.json та translations.js).
Всі об'єкти у JSON-файлах повинні містити ключі назв, які можуть бути перекладені.
Система повинна зберігати вибір мови користувача (наприклад, у localStorage), щоб мова не скидалася при перезавантаженні сторінки.

Мета проекту
Створити веб-додаток, який дозволяє користувачам візуально порівнювати масштаби різних об’єктів (астрономічних, географічних, часових, фінансових тощо) шляхом накладання їх на карту (аналог Google Maps). Ключова функція — візуальне уявлення відносних розмірів, відстаней, об’ємів, тривалості часу, населення, капіталу тощо.
________________________________________
 Прогнозована файлова структура (можливі доповнення і зміни)
•	frontend/
o	index.html — головний HTML-файл.
o	map.js — логіка взаємодії з картою.
o	draw_scaled_circles.js — малювання масштабованих об'єктів.
o	calculate_scaling.js — обчислення масштабів.
o	unit_converter.js — універсальний конвертер одиниць.
o	translations.js, languages.json — мультимовність.
o	ui_universe.js, ui_geo.js, ui_time.js, ui_money.js, ui_custom.js — блоки інтерфейсів.
o	univers_data/ — усі .json бібліотеки об'єктів.
•	backend/Data/ — збереження бібліотек Python.
o	univers.py
o	geo_countries.py, geo_cities.py
o	geo_population_countries.py, geo_population_cities.py
o	money_persons.py, money_companies.py
o	events.py
•	Конвертер одиниць (unit_converter.js)
o	Підтримка всіх можливих одиниць (км, AU, ly, kg, км², люди, USD, роки, см тощо)
o	Автоматична нормалізація значень
•	Модуль масштабування (calculate_scaling.js)
o	Визначає масштаб для кожного об’єкта
•	Модуль малювання (draw_scaled_circles.js, draw_distance_circle.js)
o	Візуалізація кіл та виносок на основі масштабу
•	Карта (map.js)
o	Виведення Google Maps
o	Можливість змінювати центр

Інші вимоги
Модульність: розділення логіки, інтерфейсу, даних
Масштабованість: легко додавати нові об'єкти, блоки, категорії
Продуктивність: швидке завантаження, кешування даних
Автоматичне оновлення бібліотек через API (в майбутньому)
Безпека: захист від SQL-ін'єкцій та XSS (на етапі backend)

Технології
Frontend: HTML5, JS (ES6), Google Maps API
Backend: Python (поки тільки для зберігання бібліотек у .py)
Формати даних: JSON, Python Dict
Можливе розширення: Flask/FastAPI + БД (у майбутньому)

Додаткові плани
Мобільна версія
Експорт результатів
Пошук по об'єктах
